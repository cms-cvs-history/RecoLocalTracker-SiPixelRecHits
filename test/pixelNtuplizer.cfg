process ProcessPixelNtuplizer = {

	source = PoolSource { 
	       untracked vstring fileNames = {'file:test_6muons.root'}
	       untracked int32 maxEvents = 20
	}


  # Initialize magnetic field
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  # Tracker SimGeometryXML
  include "Geometry/TrackerSimData/data/trackerSimGeometryXML.cfi"

  # Tracker Geometry Builder
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"

  # Tracker Numbering Builder
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"


        module ReadLocalMeasurement =  PixelNtuplizer {
                untracked int32 VerbosityLevel = 1
	        InputTag src = siPixelRecHits
                string OutputFile = "pixel_ntuple.root"

	        # check that the simHit associated with recHit is of the expected particle type
		bool checkType = true
        	# the type of particle that the simHit associated with recHits should be
        	int32 genType = 13

		# Following parameters for hit associator
  		bool associatePixel = true
  		bool associateStrip = false
		bool associateRecoTracks = false
  		vstring ROUList = {
 		       #For running only strip or pixel comment out the appropriate strings
 		       #TIB
 		       #"TrackerHitsTIBLowTof","TrackerHitsTIBHighTof",
		       #TID
 		       #"TrackerHitsTIDLowTof","TrackerHitsTIDHighTof",
 		       #TOB
 		       #"TrackerHitsTOBLowTof","TrackerHitsTOBHighTof",
 		       #TEC
 		       #"TrackerHitsTECLowTof","TrackerHitsTECHighTof",
 		       #BPIX
 		       "TrackerHitsPixelBarrelLowTof","TrackerHitsPixelBarrelHighTof",
 		       #FPIX
 		       "TrackerHitsPixelEndcapLowTof","TrackerHitsPixelEndcapHighTof"
  		}
        }

	path p = {ReadLocalMeasurement}
}
